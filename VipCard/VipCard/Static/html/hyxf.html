<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <title>会员消费</title>
        <link href="../css/lib/bootstrap.min.css" rel="stylesheet" />
        <link href="../css/app/content.css" rel="stylesheet" />
    </head>
    <body>
        <div id="divVue">
            <div>
                 <!-- 对话框部分 -->
                <alert-dialog ref="alert"></alert-dialog>
                <confirm-dialog ref="confirm"></confirm-dialog>
                <wait-dialog ref="wait"></wait-dialog>
                <custom-dialog ref="custom"></custom-dialog>
                <!-- 对话框部分 -->
            </div>
            <div>
                <div class="text-right">
                    <div class="btn-group">
                        <span class="btn btn-danger" @click="showAdd">会员消费</span>
                        <a class="btn btn-danger" href="index.html">返回菜单</a>
                        <a class="btn btn-danger" href="login.html">退出系统</a>
                    </div>
                </div>
                <table class="table table-hover table-bordered">
                    <thead>
                        <tr class="bg-primary">
                            <th>会员卡号</th>
                            <th>会员名称</th>
                            <th>商品名称</th>
                            <th>商品价格</th>
                            <th>商品数量</th>
                            <th>消费金额</th>
                            <th>消费时间</th>
                        </tr>
                    </thead>
                    <tr v-for="d in list">
                        <td>{{d.cardno}}</td>
                        <td>{{d.username}}</td>
                        <td>{{d.gname}}</td>
                        <td>{{d.price}}</td>
                        <td>{{d.amount}}</td>
                        <td>{{d.vamount}}</td>
                        <td>{{d.btime}}</td>
                    </tr>
                </table>

            </div>

            <div>
                <div id="addDialog" style="display: none;">
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">会员卡号：</span>
                            <select v-model="goods.Vcid" class="form-control">
                                <option v-for="v in vlist" :value="v.vcid">{{v.cardno}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">商品名称：</span>
                             <select v-model="goods.Goods" class="form-control">
                                <option v-for="g in glist" :value="g">{{g.gname}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">商品数量：</span>
                            <input type="text" class="form-control" v-model="goods.Amount"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">商品单价：</span>
                            <span v-if="goods.Goods" class="form-control">{{goods.Goods.price}}</span>
                            <span v-if="!goods.Goods" class="form-control"></span>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">消费总额：</span>
                            <span v-if="goods.Goods && goods.Amount" class="form-control">{{goods.Goods.price*goods.Amount}}</span>
                            <span v-else class="form-control"></span>
                        </div>
                    </div>
                    
                    <div class="text-center">
                        <span class="btn btn-success" @click="addGoods">确定</span>
                        <span class="btn btn-success" @click="hideAdd">取消</span>
                    </div>
                </div>
            </div>
        </div>

        <script src="../js/lib/jquery.min.js"></script>
        <script src="../js/lib/bootstrap.min.js"></script>
        <script src="../js/lib/vue.min.js"></script>
        <script src="../js/app/app.js"></script>
        <script src="../js/app/dialog.js"></script>
        <script src="../js/app/hyxf.js"></script>
    </body>
</html>